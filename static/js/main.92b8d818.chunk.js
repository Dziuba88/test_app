(this.webpackJsonptest_app=this.webpackJsonptest_app||[]).push([[0],{239:function(e,t,a){e.exports=a.p+"static/media/logo.12ee0906.svg"},242:function(e,t,a){e.exports=a(572)},571:function(e,t,a){},572:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(238),c=a.n(o),l=a(68),s=a(15),i=a(239),m=a.n(i),u=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"header_logo",src:m.a,alt:""}),r.a.createElement("span",{className:"header_text"},"First React App"))},d=function(){return r.a.createElement("aside",{className:"sidebar"},r.a.createElement("nav",{className:"pages"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/",activeClassName:"current",exact:!0},"Dashboard")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/catalog",activeClassName:"current",exact:!0},"Catalog")))))},h=a(69),p=a(71),f=a(70),v=a(56),b=a.n(v),g=a(241),E=a.n(g),D=a(107),x=a.n(D),w=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.generateData(30),n.timer=setInterval((function(){n.pseudoFetch()}),n.updateInterval)},n.componentWillUnmount=function(){clearTimeout(n.timer)},n.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)},n.sortData=function(e){e.sort((function(e,t){return new Date(e.date)-new Date(t.date)}))},n.onChange=function(e,t){return n.setState({startDate:e,endDate:t})},n.generateData=function(e){for(var t=[],a=+b.a.utc().format("x"),r=0;r<e;)t.push({date:a-=864e5,sales:n.randomNumber(50,250),clients:n.randomNumber(75,300),mdl:n.randomNumber(100,700),usd:n.randomNumber(100,500),eur:n.randomNumber(100,500),usdRate:(n.randomNumber(1600,1700)/100).toFixed(2),eurRate:(n.randomNumber(1800,2e3)/100).toFixed(2)}),r++;var o=t[0].date,c=o;t.forEach((function(e){e.date>c&&(c=e.date),e.date<o&&(o=e.date)}));var l=o,s=c;n.sortData(t),t.sort((function(e,t){return e.date-t.date})),n.setState({minDate:o,maxDate:c,endDate:s,startDate:l,chartsData:t})},n.filterData=function(){var e=n.state,t=e.chartsData,a=e.startDate,r=e.endDate;if(a>0&&r){var o=[];return t.forEach((function(e){void 0!==e.date&&e.date>=a&&e.date<=r&&o.push(e)})),o}return t},n.barChartOptions=function(){var e=[],t=[],a=[];return n.filterData().forEach((function(n){e.push(n.date),t.push(n.sales),a.push(n.clients)})),{tooltip:{trigger:"axis",formater:function(e){var t=b.a.utc(parseInt(e[0].name)).format("MMM DD, YYYY,  HH:mm");return e.forEach((function(e){return t+="'<br/>'".concat(e.marker," ").concat(e.seriesName," : ").concat(e.value)})),t}},legend:{data:["Sales","Clients"]},color:["#036646","#61a60e"],grid:{left:0,top:40,right:0,bottom:40},yAxis:{boundaryGap:!1,scale:!0,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},xAxis:{axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1},data:e},series:[{name:"Sales",type:"bar",data:t},{name:"Clients",type:"line",smooth:!0,symbolSize:16,data:a}]}},n.pieChartOptions=function(){var e=n.filterData(),t=0,a=0,r=0;return e.forEach((function(e){t+=e.mdl,a+=e.usd,r+=e.eur})),{title:{text:"Transactions count",left:"center",textStyle:{fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}  : {c} ({d}%)"},legend:{top:40},series:[{name:"Transactions",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:t,name:"MDL"},{value:a,name:"USD"},{value:r,name:"EUR"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},n.lineChartOptions=function(){var e=n.filterData(),t=[],a=[],r=[];return e.forEach((function(e){t.push(e.date),a.push(e.usdRate),r.push(e.eurRate)})),{title:{text:"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442",left:"center",textStyle:{fontWeight:"normal"}},tooltip:{trigger:"axis",formatter:function(e){var t=b.a.utc(parseInt(e[0].name)).format("DD.MM.YY");return e.forEach((function(e){t+="<br/>".concat(e.marker," ").concat(e.seriesName," = ").concat(e.value," MDL")})),t}},legend:{top:30},grid:{top:60,left:0,right:0,bottom:20,show:!1},xAxis:{type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:function(e){return b.a.utc(parseInt(e)).format("DD.MM.YY")},showMinLabel:!1,showMaxLabel:!1}},yAxis:{type:"value",boundaryGap:!1,scale:!0,splitNumber:5,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},series:[{name:"EUR",type:"line",data:r,smooth:!0,showSymbol:!1},{name:"USD",type:"line",data:a,smooth:!0,showSymbol:!1}]}},n.pseudoFetch=function(){var e=n.state.chartsData;e.forEach((function(e){e.sales=n.randomNumber(50,250),e.clients=n.randomNumber(75,300),e.mdl=n.randomNumber(100,700),e.usd=n.randomNumber(100,500),e.eur=n.randomNumber(100,500),e.usdRate=(n.randomNumber(1600,1700)/100).toFixed(2),e.eurRate=(n.randomNumber(1800,2e3)/100).toFixed(2)})),n.setState({chartsData:e})},n.render=function(){var e=n.state,t=e.startDate,a=e.endDate,o=e.maxDate,c=e.minDate;return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"dashboard__header"},r.a.createElement("h1",null,"Dashboard",r.a.createElement("small",null,n.state.startDate?b.a.utc(t).format("MMM DD, YYYY | HH:mm"):"Select start date","\xa0\xa0\u2014\xa0\xa0",n.state.endDate?b.a.utc(a).format("MMM DD, YYYY | HH:mm"):"Select end date"))),r.a.createElement("div",{className:"dashboard__row"},r.a.createElement("div",{className:"col"},r.a.createElement(E.a,Object.assign({onChange:n.onChange,startDate:t,endDate:a,displayTime:!0,disableDates:function(e){return(e>o||e<c)&&e}},n.props))),r.a.createElement("div",{className:"col flex"}," "),r.a.createElement("div",{className:"col"},r.a.createElement(x.a,{option:n.pieChartOptions(),style:{height:"320px",width:"320px"}}))),r.a.createElement("div",{className:"dashboard__row"},r.a.createElement("div",{className:"col flex"},r.a.createElement(x.a,{option:n.lineChartOptions(),style:{height:"320px",width:"100%"}}))),r.a.createElement("div",{className:"dashboard__row"},r.a.createElement("div",{className:"col flex"},r.a.createElement(x.a,{option:n.barChartOptions(),style:{height:"320px",width:"100%"}}))))},n.timer=0,n.updateInterval=1e4,n.state={startDate:0,endDate:0,minDate:0,maxDate:0,chartsData:[]},n}return a}(n.Component),N=a(108);var y=function(e){var t=e.columns,a=e.data,n=Object(N.useTable)({columns:t,data:a,initialState:{pageIndex:0,pageSize:5}},N.useSortBy,N.usePagination),o=n.getTableProps,c=n.getTableBodyProps,l=n.headerGroups,i=n.prepareRow,m=n.page,u=n.canPreviousPage,d=n.canNextPage,h=n.pageOptions,p=n.pageCount,f=n.gotoPage,v=n.nextPage,b=n.previousPage,g=n.state.pageIndex,E=Object(s.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",o(),r.a.createElement("thead",null,l.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),r.a.createElement("span",null,e.render("Header")),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?r.a.createElement("svg",{className:"icon active",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},r.a.createElement("path",{d:"M27.2 49.1h-6.4v-46c0-.3-.1-.6-.3-.8-.2-.2-.4-.3-.8-.3h-6.4c-.3 0-.6.1-.8.3-.2.2-.3.5-.3.8v46.1H5.8c-.5 0-.8.2-1 .7-.2.3-.1.7.2 1.1l10.7 10.7c.2.2.5.3.8.3.3 0 .5-.1.8-.3L28 51c.2-.3.3-.5.3-.8 0-.3-.1-.6-.3-.8-.2-.2-.4-.3-.8-.3zm25.1 9.1H44l-1 .1-.5.1v-.1l.4-.4.7-.9L56 39.3v-3H37V44h4v-3.9h7.8l1-.1h.5v.1l-.4.3-.7.9L36.7 59v3h19.6v-7.8h-4.1l.1 4zm4.6-34L49.2 2h-5.4l-7.7 22.2h-2.3v3.5h9.6v-3.5h-2.5l1.6-4.8h8.1l1.6 4.8h-2.5v3.5h9.6v-3.5h-2.4zm-13.4-8.5L46 8.4l.3-1 .1-.6.1-.7h.1l.1.7.4 1.6 2.4 7.3h-6z"})):r.a.createElement("svg",{className:"icon active",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},r.a.createElement("path",{d:"M27.2 49.1h-6.4v-46c0-.3-.1-.6-.3-.8-.2-.2-.4-.3-.8-.3h-6.4c-.3 0-.6.1-.8.3-.2.2-.3.5-.3.8v46.1H5.8c-.5 0-.8.2-1 .7-.2.3-.1.7.2 1.1l10.7 10.7c.2.2.5.3.8.3.3 0 .5-.1.8-.3L28 51c.2-.3.3-.5.3-.8 0-.3-.1-.6-.3-.8-.2-.2-.4-.3-.8-.3zm29.7 9.4l-7.7-22.2h-5.4l-7.7 22.2h-2.3V62h9.6v-3.5h-2.5l1.6-4.8h8.1l1.6 4.8h-2.5V62h9.6v-3.5h-2.4zm-13.4-8.6l2.4-7.3.3-1 .1-.6.1-.7h.1l.1.7.4 1.6 2.4 7.3h-5.9zm12.8-30h-4.1v4h-9.3l-.4.1v-.1l.4-.3.7-.9L55.9 5V2h-19v7.7h4V5.8h7.8l1-.1h.5v.1l-.4.3-.7.9-12.3 17.7v3h19.6v-7.8z"})):r.a.createElement("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},r.a.createElement("path",{d:"M22 2L8.7 15.3h10v23.4h6.7V15.3h10L22 2zm23.3 46.7V25.3h-6.7v23.4h-10L42 62l13.3-13.3h-10z"}))))})))}))),r.a.createElement("tbody",c(),m.map((function(e,t){return i(e),r.a.createElement("tr",Object.assign({onClick:function(){var t;t=e.original.id,E.push("/catalog/item-".concat(t))}},e.getRowProps()),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),r.a.createElement("div",{className:"pagination"},r.a.createElement("button",{onClick:function(){return f(0)},disabled:!u},"<<")," ",r.a.createElement("button",{onClick:function(){return b()},disabled:!u},"<")," ",r.a.createElement("span",{className:"counter"},"Page"," ",r.a.createElement("span",null,g+1," of ",h.length))," ",r.a.createElement("button",{onClick:function(){return v()},disabled:!d},">")," ",r.a.createElement("button",{onClick:function(){return f(p-1)},disabled:!d},">>")))},C=a(146);a(570);C.initializeApp({apiKey:"AIzaSyAR2uZxG1ftyO0xktiOWn5WJLBkwAopFQE",authDomain:"learn-react-b7a96.firebaseapp.com",databaseURL:"https://learn-react-b7a96.firebaseio.com",projectId:"learn-react-b7a96",storageBucket:"learn-react-b7a96.appspot.com",messagingSenderId:"39316749702",appId:"1:39316749702:web:b41cc33ed52967449f8007"});var M=C,S=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).createData=function(e){var t=e.val().map((function(e){return{id:e.id,title:e.title,director:e.director,year:e.year,runtime:e.runtime}}));n.setState({movies:t})},n.componentDidMount=function(){M.database().ref("/").once("value",n.createData)},n.render=function(){return r.a.createElement("div",{className:"catalog"},r.a.createElement(y,{columns:n.columns,data:n.state.movies}))},n.columns=[{Header:"#",accessor:function(e){return e.id}},{Header:"Movie title",id:"title",accessor:function(e){return e.title}},{Header:"Director",accessor:function(e){return e.director}},{Header:"Year",accessor:function(e){return e.year}},{Header:"Runtime",accessor:function(e){return e.runtime}}],n.state={movies:[]},n}return a}(n.Component),L=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).createData=function(e){var t=e.val()[n.props.match.params.slug-1];n.setState({movie:t})},n.componentDidMount=function(){M.database().ref("/").orderByChild("id").equalTo(parseInt(n.props.match.params.slug)).once("value",n.createData)},n.render=function(){var e=n.state.movie;return r.a.createElement("div",{className:"details"},r.a.createElement("h1",null,e.title,"  "),r.a.createElement("p",{className:"subtitle"},r.a.createElement("span",null,"Director: ",e.director)," |",r.a.createElement("span",null,e.year)," |",r.a.createElement("span",null,"Runtime: ",e.runtime," min.")),r.a.createElement("code",null,"poster: ",e.posterUrl),r.a.createElement("p",null,r.a.createElement("strong",null,"Description:"),e.plot),r.a.createElement("p",null,r.a.createElement("strong",null,"Actors:")," ",e.actors))},n.state={movie:[]},n}return a}(n.Component);var O=function(e){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(u,null),r.a.createElement(d,null),r.a.createElement("main",{className:"content"},r.a.createElement(s.c,null,r.a.createElement(s.a,{component:w,path:"/",exact:!0}),r.a.createElement(s.a,{component:S,path:"/catalog",exact:!0}),r.a.createElement(s.a,{component:L,path:"/catalog/item-:slug"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(571);c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[242,1,2]]]);
//# sourceMappingURL=main.92b8d818.chunk.js.map